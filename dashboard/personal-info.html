<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Information - NiveshMatrix</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="../pages/landing.html">
                    <img src="../logo.svg" alt="NiveshMatrix Logo" class="logo">
                    <span>NiveshMatrix</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Personal Information Form Section -->
    <section class="auth-section full-width">
        <div class="container">
            <div class="auth-card wide-card">
                <h1>Tell us about yourself</h1>
                <p>Help us understand you better to provide personalized financial guidance</p>

                <form class="auth-form" id="personalInfoForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" name="fullName" required placeholder="Enter your full name">
                        </div>

                        <div class="form-group">
                            <label for="birthdate">Date of Birth</label>
                            <input type="date" id="birthdate" name="birthdate" required>
                        </div>

                        <div class="form-group">
                            <label for="occupation">Occupation</label>
                            <select id="occupation" name="occupation" required>
                                <option value="">Select your occupation</option>
                                <option value="salaried">Salaried Professional</option>
                                <option value="business">Business Owner</option>
                                <option value="freelancer">Freelancer</option>
                                <option value="student">Student</option>
                                <option value="retired">Retired</option>
                                <option value="homemaker">Homemaker</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="experience">Years of Experience in Occupation</label>
                            <select id="experience" name="experience" required>
                                <option value="">Select experience</option>
                                <option value="0-2">0-2 years</option>
                                <option value="3-5">3-5 years</option>
                                <option value="6-10">6-10 years</option>
                                <option value="10+">More than 10 years</option>
                            </select>
                        </div>

                        <div class="form-group full-width">
                            <label>Are you currently managing your or your household's finances?</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="managing_finances" value="yes_self" required>
                                    <span>Yes, managing my own</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="managing_finances" value="yes_household">
                                    <span>Yes, managing household</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="managing_finances" value="no">
                                    <span>Not currently managing</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label>How enthusiastic are you about creating a financial plan?</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="enthusiasm" value="very" required>
                                    <span>Very enthusiastic</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="enthusiasm" value="somewhat">
                                    <span>Somewhat interested</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="enthusiasm" value="neutral">
                                    <span>Just exploring</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-primary" onclick="completeProfile()">Continue to Dashboard</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <script src="../js/utils.js"></script>
    <script>
        // Calculate age from birthdate
        document.getElementById('birthdate').addEventListener('change', function() {
            const birthDate = new Date(this.value);
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            
            // Store age in a data attribute
            this.setAttribute('data-age', age);
        });

        // Complete profile and redirect
        function completeProfile() {
            const form = document.getElementById('personalInfoForm');
            const formData = new FormData(form);
            
            // Check if all required fields are filled
            const fullName = formData.get('fullName');
            const birthdate = formData.get('birthdate');
            const occupation = formData.get('occupation');
            const experience = formData.get('experience');
            const managingFinances = formData.get('managing_finances');
            const enthusiasm = formData.get('enthusiasm');

            if (!fullName || !birthdate || !occupation || !experience || !managingFinances || !enthusiasm) {
                alert('Please fill in all required fields before proceeding.');
                return;
            }

            // Calculate age and validate
            const birthdateInput = document.getElementById('birthdate');
            const age = parseInt(birthdateInput.getAttribute('data-age'));
            
            if (age < 18) {
                alert('You must be at least 18 years old to proceed.');
                return;
            }

            // If all validations pass, store the data (optional)
            const userData = {
                fullName,
                birthdate,
                age,
                occupation,
                experience,
                managingFinances,
                enthusiasm
            };
            localStorage.setItem('userProfile', JSON.stringify(userData));

            // Redirect to networth page
            window.location.href = 'networth.html';
        }

        // Add form submission handler
        document.getElementById('personalInfoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            completeProfile();
        });
    </script>
</body>
</html> 