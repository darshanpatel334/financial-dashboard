<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expenses Tracker - Financial Dashboard</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-links">
                <a href="../index.html" class="nav-link">Dashboard</a>
                <a href="personal-info.html" class="nav-link">Personal Info</a>
                <a href="networth.html" class="nav-link">Net Worth</a>
                <a href="income.html" class="nav-link">Income</a>
                <a href="expenses.html" class="nav-link active">Expenses</a>
                <a href="ff-score.html" class="nav-link">FF Score</a>
                <a href="risk-profile.html" class="nav-link">Risk Profile</a>
                <a href="insurance.html" class="nav-link">Insurance</a>
                <a href="advisor.html" class="nav-link">Financial Advisor</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <h1>Expenses Tracker</h1>
        
        <!-- Expenses Summary -->
        <div class="card">
            <h2>Expenses Summary</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                <div>
                    <h4>Monthly Expenses</h4>
                    <p id="monthly-expenses">₹0</p>
                    <p id="monthly-expenses-words" class="text-secondary" style="font-size: 0.9rem;"></p>
                </div>
                <div>
                    <h4>Annual Expenses</h4>
                    <p id="annual-expenses">₹0</p>
                    <p id="annual-expenses-words" class="text-secondary" style="font-size: 0.9rem;"></p>
                </div>
                <div>
                    <h4>Big Expenses</h4>
                    <p id="big-expenses">₹0</p>
                    <p id="big-expenses-words" class="text-secondary" style="font-size: 0.9rem;"></p>
                </div>
                <div>
                    <h4>Expected Inflation</h4>
                    <p id="expected-inflation">0%</p>
                </div>
            </div>
            <div style="margin-top: 2rem;">
                <canvas id="expenses-composition-chart"></canvas>
            </div>
        </div>

        <!-- Monthly Recurring Expenses -->
        <div class="card">
            <h2>Monthly Recurring Expenses</h2>
            <div class="mb-3">
                <button class="btn btn-primary" onclick="showMonthlyExpenseModal()">Add Monthly Expense</button>
            </div>
            <div id="monthly-expenses-list"></div>
        </div>

        <!-- Annual Recurring Expenses -->
        <div class="card">
            <h2>Annual Recurring Expenses</h2>
            <div class="mb-3">
                <button class="btn btn-primary" onclick="showAnnualExpenseModal()">Add Annual Expense</button>
            </div>
            <div id="annual-expenses-list"></div>
        </div>

        <!-- Big Expenses -->
        <div class="card">
            <h2>Big Expenses</h2>
            <div class="mb-3">
                <button class="btn btn-primary" onclick="showBigExpenseModal()">Add Big Expense</button>
            </div>
            <div id="big-expenses-list"></div>
        </div>

        <!-- Monthly Expense Modal -->
        <div id="monthly-expense-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Add Monthly Expense</h3>
                <form id="monthly-expense-form" onsubmit="return saveMonthlyExpense(event)">
                    <div class="form-group">
                        <label for="monthly-expense-type">Type</label>
                        <select id="monthly-expense-type" required>
                            <option value="">Select Type</option>
                            <option value="houseRent">House Rent</option>
                            <option value="officeRent">Office Rent</option>
                            <option value="carFuel">Car Fuel</option>
                            <option value="clothing">Clothing</option>
                            <option value="groceries">Groceries</option>
                            <option value="outing">Outing</option>
                            <option value="food">Food</option>
                            <option value="subscriptions">Subscriptions</option>
                            <option value="gas">Gas</option>
                            <option value="electricity">Electricity</option>
                            <option value="mobileRecharge">Mobile Recharge</option>
                            <option value="custom">Other</option>
                        </select>
                    </div>

                    <div class="form-group" id="monthly-expense-name-group" style="display: none;">
                        <label for="monthly-expense-name">Name</label>
                        <input type="text" id="monthly-expense-name">
                    </div>

                    <div class="form-group">
                        <label for="monthly-expense-amount">Amount</label>
                        <input type="number" id="monthly-expense-amount" required min="0">
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-danger" onclick="closeMonthlyExpenseModal()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Annual Expense Modal -->
        <div id="annual-expense-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Add Annual Expense</h3>
                <form id="annual-expense-form" onsubmit="return saveAnnualExpense(event)">
                    <div class="form-group">
                        <label for="annual-expense-type">Type</label>
                        <select id="annual-expense-type" required>
                            <option value="">Select Type</option>
                            <option value="lifeInsurance">Life Insurance</option>
                            <option value="medicalInsurance">Medical Insurance</option>
                            <option value="gymFee">Gym Fee</option>
                            <option value="annualSubscriptions">Annual Subscriptions</option>
                            <option value="carMaintenance">Car Maintenance</option>
                            <option value="traveling">Traveling</option>
                            <option value="societyMaintenance">Society Maintenance</option>
                            <option value="taxes">Taxes</option>
                            <option value="otherAnnualMaintenance">Other Annual Maintenance</option>
                            <option value="membershipFees">Membership Fees</option>
                            <option value="custom">Other</option>
                        </select>
                    </div>

                    <div class="form-group" id="annual-expense-name-group" style="display: none;">
                        <label for="annual-expense-name">Name</label>
                        <input type="text" id="annual-expense-name">
                    </div>

                    <div class="form-group">
                        <label for="annual-expense-amount">Amount</label>
                        <input type="number" id="annual-expense-amount" required min="0">
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-danger" onclick="closeAnnualExpenseModal()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Big Expense Modal -->
        <div id="big-expense-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Add Big Expense</h3>
                <form id="big-expense-form" onsubmit="return saveBigExpense(event)">
                    <div class="form-group">
                        <label for="big-expense-type">Type</label>
                        <select id="big-expense-type" required>
                            <option value="">Select Type</option>
                            <option value="appliances">Appliances</option>
                            <option value="house">House</option>
                            <option value="custom">Other</option>
                        </select>
                    </div>

                    <div class="form-group" id="big-expense-name-group" style="display: none;">
                        <label for="big-expense-name">Name</label>
                        <input type="text" id="big-expense-name">
                    </div>

                    <div class="form-group">
                        <label for="big-expense-amount">Amount</label>
                        <input type="number" id="big-expense-amount" required min="0">
                    </div>

                    <div class="form-group" id="rental-yield-group" style="display: none;">
                        <label for="rental-yield">Expected Rental Yield (%)</label>
                        <input type="number" id="rental-yield" min="0" max="100" step="0.01">
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-danger" onclick="closeBigExpenseModal()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Inflation Settings Modal -->
        <div id="inflation-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Set Expected Inflation</h3>
                <form id="inflation-form" onsubmit="return saveInflation(event)">
                    <div class="form-group">
                        <label for="inflation-rate">Expected Annual Inflation Rate (%)</label>
                        <input type="number" id="inflation-rate" required min="0" max="100" step="0.01">
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-danger" onclick="closeInflationModal()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="container text-center" style="padding: 2rem 0;">
        <p>&copy; 2024 Financial Dashboard. All rights reserved.</p>
    </footer>

    <!-- Load JavaScript files -->
    <script src="../js/utils.js"></script>
    <script src="../js/state.js"></script>
    <script src="../js/expenses.js"></script>
</body>
</html> 