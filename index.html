<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nivezo - Your Financial Journey</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Core styles */
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --bg-primary: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --success-color: #22c55e;
            --warning-color: #f59e0b;
            --bg-secondary: #f8fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Navbar */
        .navbar {
            background-color: var(--bg-primary);
            padding: 1rem 0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
        }

        .btn-secondary {
            background: #f1f5f9;
            color: var(--text-primary);
        }

        .btn-google {
            background: #ffffff;
            color: #1f2937;
            border: 2px solid #e5e7eb;
            font-weight: 500;
            width: 100%;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .btn-google:hover {
            background: #f9fafb;
            border-color: #d1d5db;
        }

        .btn-google img {
            width: 20px;
            height: 20px;
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .auth-divider {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #e5e7eb;
        }

        .auth-divider span {
            padding: 0 1rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 400px;
            margin: 4rem auto;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .close:hover {
            color: #333;
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Hero Section */
        .hero {
            padding: 8rem 0 4rem;
            text-align: center;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            margin-top: 4rem;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            font-weight: 700;
        }

        .hero p {
            color: var(--text-secondary);
            font-size: 1.25rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 2rem;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 3rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Features Section */
        .features {
            padding: 4rem 0;
            background: var(--bg-primary);
        }

        .features h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .features-intro {
            text-align: center;
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: var(--bg-primary);
            padding: 2rem;
            border-radius: 1rem;
            text-align: left;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            width: 4rem;
            height: 4rem;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            color: white;
            font-size: 1.5rem;
        }

        .feature-card h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .feature-card p {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .feature-card ul {
            list-style: none;
            padding: 0;
        }

        .feature-card li {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .feature-card li::before {
            content: '‚Ä¢';
            color: var(--primary-color);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 1px solid #f59e0b;
            border-radius: 1rem;
            padding: 2rem;
            margin: 3rem 0;
            text-align: center;
        }

        .highlight-box h3 {
            color: #92400e;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .highlight-box p {
            color: #92400e;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .security-section {
            background: #f0fdf4;
            border: 1px solid #22c55e;
            border-radius: 1rem;
            padding: 2rem;
            margin: 3rem 0;
        }

        .security-section h3 {
            color: #15803d;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .security-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .security-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #15803d;
            font-weight: 500;
        }

        /* CTA Section */
        .cta {
            padding: 4rem 0;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            text-align: center;
            color: white;
        }

        .cta h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .cta p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta .btn {
            background: white;
            color: var(--primary-color);
            font-weight: 600;
        }

        .cta .btn:hover {
            background: #f8fafc;
        }

        /* Status Message */
        .status-message {
            position: fixed;
            top: 5rem;
            right: 1rem;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            color: white;
            font-weight: 500;
            z-index: 3000;
            min-width: 300px;
        }

        .status-message.success {
            background: var(--success-color);
        }

        .status-message.error {
            background: #ef4444;
        }

        .disclaimer-note {
            background: #fef2f2;
            border: 1px solid #fca5a5;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 3rem 0;
            text-align: center;
            color: #dc2626;
            font-weight: 500;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .hero-stats {
                flex-direction: column;
                gap: 2rem;
            }

            .auth-buttons {
                flex-direction: column;
            }

            .features h2,
            .cta h2 {
                font-size: 2rem;
            }

            .security-features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="nav-brand" style="text-decoration: none;">Nivezo</a>
            <div class="nav-links">
                <div class="auth-buttons">
                    <button class="btn btn-secondary btn-login" data-modal="loginModal">Login</button>
                    <button class="btn btn-primary btn-signup" data-modal="signupModal">Sign Up</button>
                    <span class="user-email" style="display: none;"></span>
                    <button class="btn btn-secondary btn-logout" style="display: none;">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Nivezo ‚Äì Investment Intelligence, Simplified</h1>
            <p>Your personal finance dashboard for clarity, control, and confidence. Discover how smart planning and self-awareness can reshape your financial future ‚Äî without complex advice or noise.</p>
            <button class="btn btn-primary btn-signup" data-modal="signupModal" id="startJourneyBtn">
                <i class="fas fa-rocket"></i> Start My Free Dashboard
            </button>
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">10K+</span>
                    <span class="stat-label">Active Users</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">‚Çπ50Cr+</span>
                    <span class="stat-label">Assets Tracked</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">4.8/5</span>
                    <span class="stat-label">User Rating</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Nivezo Section -->
    <section class="features">
        <div class="container">
            <div class="highlight-box">
                <h3>‚úÖ Why Nivezo?</h3>
                <p>India is witnessing a financial revolution ‚Äî but most people still lack clarity on how much to save, where to allocate, or what they truly need to reach freedom. Nivezo helps you decode your financial life with intelligent tools, simple dashboards, and simulations designed for real people.</p>
            </div>

            <h2>üîç What You Can Do on Nivezo</h2>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h3>üìä Track Your Complete Financial Picture</h3>
                    <p>Get a 360¬∞ view of your income, expenses, assets, liabilities, insurance, and goals ‚Äî all in one place.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3>‚öôÔ∏è Run Smart Financial Simulations</h3>
                    <p>No more guesswork. Use our intelligent tools to test scenarios and make smarter money moves:</p>
                    <ul>
                        <li>SIP Calculator</li>
                        <li>Goal-Based Investment Simulator</li>
                        <li>Retirement Corpus Estimator</li>
                        <li>Freedom Score Evaluator</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h3>üß† Understand Your Risk Appetite</h3>
                    <p>Answer a quick questionnaire and know whether you're a Conservative, Balanced, or Aggressive investor.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>üßæ Plan Like a Pro, Without an Advisor</h3>
                    <p>Get suggestive asset allocation models based on your profile ‚Äî age, income, risk appetite, and goals.</p>
                    <p style="font-size: 0.9rem; font-style: italic;">üìå We don't give investment advice ‚Äî just powerful insights to help you think better.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>üß† Learn & Grow</h3>
                    <p>Explore our Financial Literacy Center with easy guides, glossary terms, and explainers for everything from equity and debt to insurance and taxes.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>üöÄ Who It's For</h3>
                    <p>Whether you earn ‚Çπ5 lakh or ‚Çπ50 lakh per year ‚Äî if you care about your financial freedom, Nivezo is built for you.</p>
                </div>
            </div>

            <!-- Security Section -->
            <div class="security-section">
                <h3><i class="fas fa-shield-alt"></i> üîê Data Privacy and Security First</h3>
                <p style="color: #15803d; margin-bottom: 1rem;">We follow strict data protection practices:</p>
                <div class="security-features">
                    <div class="security-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Google-secured logins (OTP/Email)</span>
                    </div>
                    <div class="security-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Encryption of sensitive financial inputs</span>
                    </div>
                    <div class="security-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Hosted on secure cloud infrastructure</span>
                    </div>
                    <div class="security-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Full transparency ‚Äî your data, your control</span>
                    </div>
                </div>
                <p style="color: #15803d; margin-top: 1rem; font-size: 0.9rem;">üìå We voluntarily follow best practices under IT Act and RBI KYC guidelines.</p>
            </div>

            <!-- Future Features -->
            <div class="highlight-box" style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); border-color: #0ea5e9;">
                <h3 style="color: #0c4a6e;">üí° Future-Ready Features (Coming Soon)</h3>
                <div style="color: #0c4a6e; text-align: left; max-width: 600px; margin: 0 auto;">
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.5rem; padding-left: 1.5rem; position: relative;">
                            <span style="position: absolute; left: 0;">üîó</span>
                            Connect with verified SEBI-registered investment advisors
                        </li>
                        <li style="margin-bottom: 0.5rem; padding-left: 1.5rem; position: relative;">
                            <span style="position: absolute; left: 0;">üíæ</span>
                            Save & update your portfolio monthly
                        </li>
                        <li style="margin-bottom: 0.5rem; padding-left: 1.5rem; position: relative;">
                            <span style="position: absolute; left: 0;">üí∞</span>
                            Tax-saving simulation tools
                        </li>
                        <li style="padding-left: 1.5rem; position: relative;">
                            <span style="position: absolute; left: 0;">üßÆ</span>
                            More goal-based calculators
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Disclaimer -->
            <div class="disclaimer-note">
                <p><strong>üìù Important Note:</strong> Nivezo is not a SEBI-registered investment advisor. All tools and illustrations are for educational purposes only. Users are encouraged to consult SEBI-registered professionals before making investment decisions.</p>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <h2>üÜì Get Started ‚Äî It's Free</h2>
            <p>Start your journey with our basic plan and unlock smarter financial awareness in minutes.</p>
            <button class="btn btn-primary btn-signup" data-modal="signupModal">Start My Free Dashboard</button>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Welcome Back!</h2>
            
            <!-- Google Sign-In Button -->
            <button type="button" class="btn btn-google" id="googleSignInBtn">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
            </button>
            
            <div class="auth-divider">
                <span>or</span>
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Start Your Journey</h2>
            
            <!-- Google Sign-In Button -->
            <button type="button" class="btn btn-google" id="googleSignUpBtn">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
            </button>
            
            <div class="auth-divider">
                <span>or</span>
            </div>
            
            <form id="signupForm">
                <div class="form-row" style="display: flex; gap: 1rem;">
                    <div class="form-group" style="flex: 1;">
                        <label for="signupFirstName">First Name</label>
                        <input type="text" id="signupFirstName" required>
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label for="signupLastName">Last Name</label>
                        <input type="text" id="signupLastName" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password (min 6 characters)</label>
                    <input type="password" id="signupPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Create Account</button>
            </form>
        </div>
    </div>

    <!-- Status Message -->
    <div id="status" class="status-message" style="display: none;"></div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/11.8.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.8.1/firebase-auth-compat.js"></script>
    
    <!-- Your Scripts -->
    <script src="auth.js"></script>
    <script src="common.js"></script>
    <script>
        // Modal functionality - moved after auth.js is loaded
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded, setting up modals and forms'); // Debug log
            
            // Initialize progress tracking
            if (typeof initProgressTracking === 'function') {
                console.log('Initializing progress tracking');
                initProgressTracking();
            }
            
            // Add smart journey navigation
            function setupSmartNavigation() {
                const startJourneyBtn = document.getElementById('startJourneyBtn');
                
                // Add click handler that checks auth state immediately
                startJourneyBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    // Immediate auth check
                    const currentUser = firebase.auth().currentUser;
                    if (currentUser) {
                        // User is signed in - go to personal info
                        console.log('User signed in, redirecting to personal-info page');
                        window.location.href = 'personal-info.html';
                    } else {
                        // User not signed in - show signup modal
                        console.log('User not signed in, showing signup modal');
                        document.getElementById('signupModal').style.display = 'block';
                    }
                });
                
                // Update button text based on auth state (for visual feedback)
                firebase.auth().onAuthStateChanged((user) => {
                    if (user) {
                        startJourneyBtn.innerHTML = '<i class="fas fa-play"></i> Continue Your Journey';
                        startJourneyBtn.removeAttribute('data-modal');
                    } else {
                        startJourneyBtn.innerHTML = '<i class="fas fa-rocket"></i> Start My Free Dashboard';
                        startJourneyBtn.setAttribute('data-modal', 'signupModal');
                    }
                });
            }
            
            // Setup smart navigation
            setupSmartNavigation();
            
            // Setup modals and forms
            const modals = document.querySelectorAll('.modal');
            const modalTriggers = document.querySelectorAll('[data-modal]');
            const closeButtons = document.querySelectorAll('.close');

            // Setup modal triggers
            modalTriggers.forEach((trigger) => {
                trigger.addEventListener('click', (e) => {
                    e.preventDefault();
                    const modalId = trigger.getAttribute('data-modal');
                    modals.forEach(modal => modal.style.display = 'none');
                    const targetModal = document.getElementById(modalId);
                    if (targetModal) {
                        targetModal.style.display = 'block';
                    }
                });
            });

            // Setup close buttons
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    button.closest('.modal').style.display = 'none';
                });
            });

            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                modals.forEach(modal => {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            });

            // Setup form handlers
            const loginForm = document.getElementById('loginForm');
            const signupForm = document.getElementById('signupForm');
            
            if (loginForm) {
                loginForm.addEventListener('submit', handleLogin);
            }
            
            if (signupForm) {
                signupForm.addEventListener('submit', handleSignUp);
            }
            
            // Setup Google Sign-In button handlers
            const googleSignInBtn = document.getElementById('googleSignInBtn');
            const googleSignUpBtn = document.getElementById('googleSignUpBtn');
            
            if (googleSignInBtn) {
                googleSignInBtn.addEventListener('click', handleGoogleSignIn);
            }
            
            if (googleSignUpBtn) {
                googleSignUpBtn.addEventListener('click', handleGoogleSignIn);
            }
        });
    </script>
</body>
</html> 